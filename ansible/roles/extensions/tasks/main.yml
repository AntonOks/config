---
# Language Server binaries
- name: Checking GoPLS
  stat:
    path: "{{ HOME }}/go/bin/gopls"
  register: gopls_bin

- name: Installing Golang Program Language Server
  shell: GO111MODULE=on go get golang.org/x/tools/gopls@latest
  when: gopls_bin.stat.exists != true

- import_tasks: _darwin.yml
  when: ansible_os_family == 'Darwin'
- import_tasks: _debian.yml
  when: ansible_os_family == 'Debian' or ansible_os_family == 'Pop!_OS'
